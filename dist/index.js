"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var InterpolateHtmlPlugin=function(e,t){var r=this;this.HTMLPlugin=e,this.replacements=t,this.escapeRegex=function(e){return"string"!=typeof e?r.throwError("Expected a string","type"):e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},this.throwError=function(e,t){return void 0===t&&(t=void 0),"type"===t?function(){throw new TypeError("InterpolateHtmlPlugin: "+e)}():function(){throw new Error("InterpolateHtmlPlugin: "+e)}()},this.interpolate=function(e){e.hooks.compilation.tap("InterpolateHtmlPlugin",(function(e){r.HTMLPlugin.getHooks(e).afterTemplateExecution.tap("InterpolateHtmlPlugin",(function(e){for(var t in r.replacements)return e.html=e.html.replace(new RegExp("%"+r.escapeRegex(t)+"%","g"),r.replacements[t])}))}))},this.ifParamsValid=function(e,t){return r.replacements&&r.HTMLPlugin?0!==Object.keys(r.replacements).length?"getHooks"in r.HTMLPlugin?t(e):r.throwError("html-webpack-plugin v5 needs to be installed."):r.throwError("Your key/value object is empty."):r.throwError("You need to pass HtmlWebpackPlugin and a key/value object to interpolate.")},this.apply=function(e){try{r.ifParamsValid(e,r.interpolate)}catch(e){return void console.error(e)}}};exports.default=InterpolateHtmlPlugin;
